(function(t,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue")):typeof define=="function"&&define.amd?define(["vue"],u):(t=typeof globalThis<"u"?globalThis:t||self,t["vue-json-pretty"]=u(t.Vue))})(this,function(t){"use strict";var u=document.createElement("style");u.textContent=`.tree-node-wrap{position:relative;text-align:left}.tree-node-wrap .content-wrap{position:relative}.tree-node-wrap .content-wrap .item-wrap{word-break:break-all;word-wrap:break-word}.tree-node-wrap .content-wrap .item-wrap-click{cursor:pointer}.tree-node-wrap .content-wrap .items-length{font-size:12px;color:#a1a9ac;font-style:italic;margin-left:5px}.tree-node-wrap .icon-wrap{cursor:pointer;display:flex;align-items:center;justify-content:center;position:absolute;top:.3em;left:.5em;color:#586e75;height:1em;width:1em}.tree-node-wrap .content-wrap:first-child>.icon-wrap{left:-1.5em}.tree-node-wrap .need-border{border-left:1px dashed #a1a9ac}.tree-node-wrap .need-indent{margin-left:2em}.tree-node-wrap .node-key{color:#8c6325}.tree-node-wrap .node-content{color:#000}.tree-node-wrap .node-content.string{color:#57b73b}.tree-node-wrap .node-content.number{color:#2d8cf0}.tree-node-wrap .node-content.boolean{color:#1d8ce0}.tree-node-wrap .node-content.null,.tree-node-wrap .node-content.undefined{color:#d55fde}
`,document.head.appendChild(u);function h(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()}function k(n){return h(n)==="object"}function C(n){return h(n)==="array"}const $=t.defineComponent({render(){return t.createVNode("svg",{viewBox:"0 0 1792 1792",focusable:"false","data-icon":"icon-minus",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[t.createVNode("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"},null)])}}),B=t.defineComponent({render(){return t.createVNode("svg",{viewBox:"0 0 1792 1792",focusable:"false","data-icon":"icon-plus",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[t.createVNode("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"},null)])}}),L="";return t.defineComponent({name:"TreeWrap",props:{json:{required:!0,type:Object,default:()=>({})},deep:{type:Number,default:4},showLength:{type:Boolean,default:!0},showLine:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},showDoubleQuotes:{type:Boolean,default:!0},rootPath:{type:String,default:"root"},collapsedOnClickBrackets:{type:Boolean,default:!0},renderNodeKey:{type:Function},renderNodeValue:{type:Function},nodeClick:{type:Function}},setup(n,{emit:P,slots:z}){const m=t.reactive({closedPath:{}}),x=e=>n.deep?e.split("[").length>=n.deep:!1,y=(e,o)=>{n.nodeClick&&n.nodeClick({isClosed:e,path:o}),m.closedPath={...m.closedPath,[o]:!e}},V=(e,o)=>t.createVNode("span",{class:"icon-wrap",onClick:()=>y(e,o)},[e?t.createVNode(B,null,null):t.createVNode($,null,null)]),N=e=>t.createVNode("span",{class:["node-key"]},[`${n.showDoubleQuotes&&'"'}${e}${n.showDoubleQuotes&&'"'}:  `]),j=({key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i})=>n.renderNodeKey?n.renderNodeKey({node:{key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i},defaultKey:N(e)}):N(e),b=e=>(e===null?e="null":e===void 0&&(e="undefined"),h(e)==="string"?`${p(e)?"":n.showDoubleQuotes&&'"'}${e}${p(e)?"":n.showDoubleQuotes&&'"'}`:e+""),I=({key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i})=>n.renderNodeValue?n.renderNodeValue({node:{key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i},defaultValue:b(o)}):b(o),p=e=>["{","}","[","]","[ . . . ]","{ . . . }"].includes(e),s=({key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i})=>t.createVNode("div",{class:["item-wrap",r>0&&"need-indent",n.collapsedOnClickBrackets&&i&&"item-wrap-click"],onClick:()=>n.collapsedOnClickBrackets&&i&&y(a,d)},[e&&j({key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i}),t.createVNode("span",{class:["node-content",p(o)?"":h(o)]},[I({key:e,data:o,level:r,showComma:l,path:d,itemsLen:c,isClosed:a,canClick:i})]),l&&t.createVNode("span",null,[","]),n.showLength&&!!c&&t.createVNode("span",{class:"items-length"},[`${c} items`])]),q=({key:e="",data:o,level:r=0,showComma:l=!1,path:d=n.rootPath||"root"})=>{const c=m.closedPath[d]===void 0?x(d):m.closedPath[d];let a=0;if(C(o)){const i=o.length;return c&&(a=i),t.createVNode("div",{class:["content-wrap",n.showLine&&r>0&&"need-border",r>1&&"need-indent"]},[n.showIcon&&V(c,d),c?t.createVNode(t.Fragment,null,[s({key:e,data:"[ . . . ]",level:r,showComma:!0,path:d,itemsLen:a,isClosed:c,canClick:!0})]):t.createVNode(t.Fragment,null,[s({key:e,data:"[",level:r,showComma:!1,path:d,itemsLen:a,isClosed:c,canClick:!0}),o.map((f,w)=>q({key:"",data:f,level:r+1,showComma:w!==i-1,path:`${d}[${w}]`})),s({key:"",data:"]",level:r,showComma:l,path:d,itemsLen:a,isClosed:c,canClick:!1})])])}if(k(o)){const i=Object.keys(o),f=i.length;return c&&(a=f),t.createVNode("div",{class:["content-wrap",n.showLine&&r>0&&"need-border",r>1&&"need-indent"]},[n.showIcon&&V(c,d),c?t.createVNode(t.Fragment,null,[s({key:e,data:"{ . . . }",level:r,showComma:!0,path:d,itemsLen:f,isClosed:c,canClick:!0})]):t.createVNode(t.Fragment,null,[s({key:e,data:"{",level:r,showComma:!1,path:d,itemsLen:a,isClosed:c,canClick:!0}),i.map((w,g)=>q({key:w,data:o[w],level:r+1,showComma:g!==f-1,path:`${d}[${g}]`})),s({key:"",data:"}",level:r,showComma:l,path:d,itemsLen:a,isClosed:c,canClick:!1})])])}return t.createVNode("div",{class:["content-wrap",n.showLine&&r>0&&"need-border",r>1&&"need-indent"]},[s({key:e,data:o,level:r,showComma:l,path:d,itemsLen:a,isClosed:c,canClick:!1})])};return()=>t.createVNode("div",{class:"tree-node-wrap"},[q({data:n.json})])}})});
